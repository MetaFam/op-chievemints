{"version":3,"file":"self-mint-2237146e.js","sources":["../../src/pages/self-mint.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react'\nimport { deregexify, extractMessage, regexify } from '@/lib/helpers'\nimport { useParams } from 'react-router-dom'\nimport { View } from './view'\nimport { Helmet } from 'react-helmet'\nimport { toast } from 'react-toastify'\nimport { SubmitButton } from '@/components'\nimport { useWeb3 } from '@/lib/hooks'\n\nexport const SelfMint: React.FC<{ tokenId: string }> = ({ tokenId }) => {\n  const { rwContract, address, contractClient } = useWeb3()\n  const [processing, setProcessing] = useState(false)\n\n  const mint = useCallback(async () => {\n    try {\n      setProcessing(true)\n      const hash = await (\n        rwContract('mint', [[address], BigInt(tokenId)])\n      ) as '0x{string}'\n      await contractClient.waitForTransactionReceipt({ hash })\n    } catch(error) {\n      console.error({ error })\n      toast.error(extractMessage(error))\n    } finally {\n      setProcessing(false)\n    }\n  }, [address, contractClient, rwContract, tokenId])\n\n  return (\n    <main id=\"self-mint\">\n      <Helmet>\n        <title>Self-Mint NFT #{regexify(tokenId)}</title>\n        <meta name=\"description\" content=\"Mint a â€™Chievemint NFT\" />\n      </Helmet>\n\n\n      <form onSubmit={mint}>\n        <SubmitButton purpose=\"mint\" {...{ processing }}/>\n        <View {...{ tokenId }} header={false}/>\n        <SubmitButton purpose=\"mint\" {...{ processing }}/>\n      </form>\n    </main>\n  )\n}\n\nexport const SelfMintPage = () => {\n  const { nftId } = useParams() \n  const tokenId = deregexify(\n    Array.isArray(nftId) ? nftId[0] : nftId\n  )\n\n  return <SelfMint {...{ tokenId }}/>\n}\n\nexport default SelfMintPage"],"names":["useState","useCallback","toast","Helmet"],"mappings":";;;;;;;AASO,MAAM,WAA0C,CAAC,EAAE,cAAc;AACtE,QAAM,EAAE,YAAY,SAAS,mBAAmB,QAAQ;AACxD,QAAM,CAAC,YAAY,aAAa,IAAIA,sBAAS,KAAK;AAE5C,QAAA,OAAOC,aAAAA,YAAY,YAAY;AAC/B,QAAA;AACF,oBAAc,IAAI;AACZ,YAAA,OAAO,MACX,WAAW,QAAQ,CAAC,CAAC,OAAO,GAAG,OAAO,OAAO,CAAC,CAAC;AAEjD,YAAM,eAAe,0BAA0B,EAAE,KAAM,CAAA;AAAA,aACjD,OAAO;AACL,cAAA,MAAM,EAAE,MAAA,CAAO;AACjBC,QAAA,MAAM,eAAe,KAAK,CAAC;AAAA,IAAA,UACjC;AACA,oBAAc,KAAK;AAAA,IACrB;AAAA,KACC,CAAC,SAAS,gBAAgB,YAAY,OAAO,CAAC;AAG/C,SAAA,qBAAC,QAAK,EAAA,IAAG,aACP,UAAA;AAAA,IAAA,qBAACC,cACC,EAAA,UAAA;AAAA,MAAA,qBAAC,SAAM,EAAA,UAAA;AAAA,QAAA;AAAA,QAAgB,SAAS,OAAO;AAAA,MAAA,GAAE;AAAA,MACxC,oBAAA,QAAA,EAAK,MAAK,eAAc,SAAQ,0BAAyB;AAAA,IAAA,GAC5D;AAAA,IAGA,qBAAC,QAAK,EAAA,UAAU,MACd,UAAA;AAAA,MAAA,oBAAC,gBAAa,SAAQ,QAAQ,GAAG,EAAE,cAAa;AAAA,0BAC/C,MAAM,EAAA,GAAG,EAAE,QAAQ,GAAG,QAAQ,OAAM;AAAA,0BACpC,cAAa,EAAA,SAAQ,QAAQ,GAAG,EAAE,cAAa;AAAA,IAAA,GAClD;AAAA,EACF,EAAA,CAAA;AAEJ;AAEO,MAAM,eAAe,MAAM;AAC1B,QAAA,EAAE,UAAU;AAClB,QAAM,UAAU;AAAA,IACd,MAAM,QAAQ,KAAK,IAAI,MAAM,CAAC,IAAI;AAAA,EAAA;AAGpC,SAAQ,oBAAA,UAAA,EAAU,GAAG,EAAE,UAAU,CAAA;AACnC;"}