{"version":3,"file":"self-mint-75e02567.js","sources":["../../src/pages/self-mint.tsx"],"sourcesContent":["import React, { useCallback, useState } from 'react'\nimport { deregexify, extractMessage, regexify } from '@/lib/helpers'\nimport { useParams } from 'react-router-dom'\nimport { View } from './view'\nimport { Helmet } from 'react-helmet'\nimport { SubmitButton } from '@/components'\nimport { useWeb3 } from '@/lib/hooks'\n\nexport const SelfMint: React.FC<{ tokenId: string }> = ({ tokenId }) => {\n  const { rwContract, address } = useWeb3()\n  const [processing, setProcessing] = useState(false)\n\n  const mint = useCallback(async () => {\n    try {\n      setProcessing(true)\n      const tx = await (\n        rwContract['mint(address[],uint256,bytes)'](\n          [address], BigInt(tokenId), []\n        )\n      )\n      await tx.wait()\n    } catch(error) {\n      console.error({ error })\n      // toast({\n      //   title: 'Minting Error',\n      //   description: extractMessage(error),\n      //   status: 'error',\n      //   isClosable: true,\n      //   duration: 10000\n      // })\n    } finally {\n      setProcessing(false)\n    }\n  }, [address, rwContract, tokenId])\n\n  return (\n    <main id=\"self-mint\">\n      <Helmet>\n        <title>Self-Mint NFT #{regexify(tokenId)}</title>\n        <meta name=\"description\" content=\"Mint a â€™Chievemint NFT\" />\n      </Helmet>\n\n\n      <form onSubmit={mint}>\n        <SubmitButton purpose=\"mint\" {...{ processing }}/>\n        <View {...{ tokenId }} header={false}/>\n        <SubmitButton purpose=\"mint\" {...{ processing }}/>\n      </form>\n    </main>\n  )\n}\n\nexport const SelfMintPage = () => {\n  const { nftId } = useParams() \n  const tokenId = deregexify(\n    Array.isArray(nftId) ? nftId[0] : nftId\n  )\n\n  return <SelfMint {...{ tokenId }}/>\n}\n\nexport default SelfMintPage"],"names":["useState","useCallback","Helmet"],"mappings":";;;;;;;AAQO,MAAM,WAA0C,CAAC,EAAE,cAAc;AACtE,QAAM,EAAE,YAAY,QAAQ,IAAI,QAAQ;AACxC,QAAM,CAAC,YAAY,aAAa,IAAIA,sBAAS,KAAK;AAE5C,QAAA,OAAOC,aAAAA,YAAY,YAAY;AAC/B,QAAA;AACF,oBAAc,IAAI;AACZ,YAAA,KAAK,MACT,WAAW,+BAA+B;AAAA,QACxC,CAAC,OAAO;AAAA,QAAG,OAAO,OAAO;AAAA,QAAG,CAAC;AAAA,MAAA;AAGjC,YAAM,GAAG;aACH;AACE,cAAA,MAAM,EAAE,MAAA,CAAO;AAAA,IAAA,UAQvB;AACA,oBAAc,KAAK;AAAA,IACrB;AAAA,EACC,GAAA,CAAC,SAAS,YAAY,OAAO,CAAC;AAG/B,SAAA,qBAAC,QAAK,EAAA,IAAG,aACP,UAAA;AAAA,IAAA,qBAACC,cACC,EAAA,UAAA;AAAA,MAAA,qBAAC,SAAM,EAAA,UAAA;AAAA,QAAA;AAAA,QAAgB,SAAS,OAAO;AAAA,MAAA,GAAE;AAAA,MACxC,oBAAA,QAAA,EAAK,MAAK,eAAc,SAAQ,0BAAyB;AAAA,IAAA,GAC5D;AAAA,IAGA,qBAAC,QAAK,EAAA,UAAU,MACd,UAAA;AAAA,MAAA,oBAAC,gBAAa,SAAQ,QAAQ,GAAG,EAAE,cAAa;AAAA,0BAC/C,MAAM,EAAA,GAAG,EAAE,QAAQ,GAAG,QAAQ,OAAM;AAAA,0BACpC,cAAa,EAAA,SAAQ,QAAQ,GAAG,EAAE,cAAa;AAAA,IAAA,GAClD;AAAA,EACF,EAAA,CAAA;AAEJ;AAEO,MAAM,eAAe,MAAM;AAC1B,QAAA,EAAE,UAAU;AAClB,QAAM,UAAU;AAAA,IACd,MAAM,QAAQ,KAAK,IAAI,MAAM,CAAC,IAAI;AAAA,EAAA;AAGpC,SAAQ,oBAAA,UAAA,EAAU,GAAG,EAAE,UAAU,CAAA;AACnC;"}