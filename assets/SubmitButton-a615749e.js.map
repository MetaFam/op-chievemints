{"version":3,"file":"SubmitButton-a615749e.js","sources":["../../../../node_modules/react-spinners/esm/PacmanLoader.js","../../src/components/SubmitButton.tsx"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nimport * as React from \"react\";\nimport { parseLengthAndUnit, cssValue } from \"./helpers/unitConverter\";\nimport { createAnimation } from \"./helpers/animation\";\nvar pacman = [\n    createAnimation(\"PacmanLoader\", \"0% {transform: rotate(0deg)} 50% {transform: rotate(-44deg)}\", \"pacman-1\"),\n    createAnimation(\"PacmanLoader\", \"0% {transform: rotate(0deg)} 50% {transform: rotate(44deg)}\", \"pacman-2\"),\n];\nfunction PacmanLoader(_a) {\n    var _b = _a.loading, loading = _b === void 0 ? true : _b, _c = _a.color, color = _c === void 0 ? \"#000000\" : _c, _d = _a.speedMultiplier, speedMultiplier = _d === void 0 ? 1 : _d, _e = _a.cssOverride, cssOverride = _e === void 0 ? {} : _e, _f = _a.size, size = _f === void 0 ? 25 : _f, _g = _a.margin, margin = _g === void 0 ? 2 : _g, additionalprops = __rest(_a, [\"loading\", \"color\", \"speedMultiplier\", \"cssOverride\", \"size\", \"margin\"]);\n    var _h = parseLengthAndUnit(size), value = _h.value, unit = _h.unit;\n    var wrapper = __assign({ display: \"inherit\", position: \"relative\", fontSize: 0, height: \"\".concat(value * 2).concat(unit), width: \"\".concat(value * 2).concat(unit) }, cssOverride);\n    var ball = createAnimation(\"PacmanLoader\", \"75% {opacity: 0.7}\\n    100% {transform: translate(\".concat(\"\".concat(-4 * value).concat(unit), \", \").concat(\"\".concat(-value / 4).concat(unit), \")}\"), \"ball\");\n    var ballStyle = function (i) {\n        return {\n            width: \"\".concat(value / 3).concat(unit),\n            height: \"\".concat(value / 3).concat(unit),\n            backgroundColor: color,\n            margin: cssValue(margin),\n            borderRadius: \"100%\",\n            transform: \"translate(0, \".concat(\"\".concat(-value / 4).concat(unit), \")\"),\n            position: \"absolute\",\n            top: \"\".concat(value).concat(unit),\n            left: \"\".concat(value * 4).concat(unit),\n            animation: \"\".concat(ball, \" \").concat(1 / speedMultiplier, \"s \").concat(i * 0.25, \"s infinite linear\"),\n            animationFillMode: \"both\",\n        };\n    };\n    var s1 = \"\".concat(cssValue(size), \" solid transparent\");\n    var s2 = \"\".concat(cssValue(size), \" solid \").concat(color);\n    var pacmanStyle = function (i) {\n        return {\n            width: 0,\n            height: 0,\n            borderRight: s1,\n            borderTop: i === 0 ? s1 : s2,\n            borderLeft: s2,\n            borderBottom: i === 0 ? s2 : s1,\n            borderRadius: cssValue(size),\n            position: \"absolute\",\n            animation: \"\".concat(pacman[i], \" \").concat(0.8 / speedMultiplier, \"s infinite ease-in-out\"),\n            animationFillMode: \"both\",\n        };\n    };\n    var pac = pacmanStyle(0);\n    var man = pacmanStyle(1);\n    if (!loading) {\n        return null;\n    }\n    return (React.createElement(\"span\", __assign({ style: wrapper }, additionalprops),\n        React.createElement(\"span\", { style: pac }),\n        React.createElement(\"span\", { style: man }),\n        React.createElement(\"span\", { style: ballStyle(2) }),\n        React.createElement(\"span\", { style: ballStyle(3) }),\n        React.createElement(\"span\", { style: ballStyle(4) }),\n        React.createElement(\"span\", { style: ballStyle(5) })));\n}\nexport default PacmanLoader;\n","import { PacmanLoader } from 'react-spinners'\nimport { capitalize, useSwitchTo } from '@/lib/helpers'\nimport { NETWORKS } from '@/lib/networks'\nimport React, {\n  ButtonHTMLAttributes,\n  HTMLProps, MouseEvent, useCallback, useMemo, useState,\n} from 'react'\nimport { useWeb3 } from '@/lib/hooks'\nimport { useConfig } from '@/config'\nimport tyl from '../styles/SubmitButton.module.css'\n\nexport const SubmitButton: React.FC<{\n  purpose?: string\n  processing?: boolean\n  label?: string\n  requireStorage?: boolean\n  short?: boolean\n  openSettings?: () => void\n  className?: string\n} & ButtonHTMLAttributes<HTMLButtonElement>> = ({\n  purpose = 'create',\n  processing = false,\n  short = false,\n  // onClick,\n  requireStorage = true,\n  label = `${capitalize(purpose)} NFT`,\n  openSettings,\n  className = null,\n  ...props\n}) => {\n  const {\n    address, chainId, connect, rwContract,\n  } = useWeb3()\n  const offChain = useMemo(\n    () => chainId !== NETWORKS.contract.chainId,\n    [chainId],\n  )\n  const [working, setWorking] = useState(processing)\n  const desiredNetwork = (\n    offChain ? NETWORKS.contract.name : null\n  )\n  const {\n    storage,\n  } = useConfig({ requireStorage })\n  const switchTo = useSwitchTo()\n\n  const onClick = useCallback(async (evt: MouseEvent<HTMLButtonElement>) => {\n    try {\n      setWorking(true)\n\n      console.debug({ rwContract })\n\n      if(!address) {\n        evt.preventDefault()\n        connect()\n      } else if(offChain) {\n        evt.preventDefault()\n        switchTo(NETWORKS.contract.chainId)\n      } else if(!storage && requireStorage) {\n        evt.preventDefault()\n        openSettings()\n      } else {\n        // onClick?.apply(null, [evt])\n      }\n    } finally {\n      setWorking(false)\n    }\n  }, [\n    address,\n    connect,\n    offChain,\n    openSettings,\n    requireStorage,\n    rwContract,\n    storage,\n    switchTo,\n  ])\n\n  return <>\n    <button\n      className={\n        [className, tyl.button].filter((e) => !!e).join(' ')\n      }\n      {...{ onClick, ...props }}\n    >\n      {(() => {\n        if(processing || working) {\n          return (\n            <>\n              <PacmanLoader color=\"#BB2244\"/>\n              <p>{capitalize(purpose).replace(/e$/, '')}ing…</p>\n            </>\n          )\n        } else if(!address) {\n          return `Connect To ${capitalize(purpose)}`\n        } else if(offChain) {\n          return `Connect To ${\n            !short ? 'The ' : ''\n          }${desiredNetwork}${\n            !short ? ` Network To ${capitalize(purpose)}` : ''\n          }`\n        } else if(!rwContract) {\n          return 'Contract Not Connected'\n        } else if(requireStorage && !storage) {\n          return <>\n            Missing{' '}\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"//nft.storage\">\n              NFT.Storage\n            </a>\n            {' '}Token\n          </>\n        } else {\n          return label\n        }\n      })()}\n    </button>\n  </>\n}\n"],"names":["this","React.createElement","useMemo","useState","useCallback"],"mappings":"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","x_google_ignoreList":[0]}